<!DOCTYPE html>
<html><head><title>Full Data Explorer</title><script src="https://cdn.tailwindcss.com"></script>
<style>
    .wrap { height: calc(100vh - 220px); overflow: auto; border: 1px solid #334155; border-radius: 12px; }
    table { border-collapse: separate; border-spacing: 0; }
    th { position: sticky; top: 0; background: #0f172a; z-index: 40; padding: 12px; font-size: 10px; border-bottom: 2px solid #334155; white-space: nowrap; color: #94a3b8; }
    .st-1 { position: sticky; left: 0; z-index: 30; background: #1e293b; border-right: 2px solid #3b82f6 !important; width: 100px; }
    .st-2 { position: sticky; left: 100px; z-index: 30; background: #1e293b; border-right: 2px solid #334155 !important; width: 250px; }
    th.st-1, th.st-2 { z-index: 50; background: #0f172a; }
    td { padding: 8px 12px; font-family: monospace; font-size: 11px; border-bottom: 1px solid #1e293b; border-right: 1px solid #1e293b; white-space: nowrap; color: #cbd5e1; }
    tr:hover td { background-color: #0f172a !important; }
</style></head>
<body class="bg-slate-950 text-slate-200 p-6">
    <header class="flex justify-between items-center mb-6">
        <div><h1 class="text-3xl font-black italic text-blue-500">DATA EXPLORER</h1><p class="text-[10px] text-slate-500 uppercase">Total: {{ total_data }} | Enriched: {{ total_enriched }} | Pending: {{ pending }}</p></div>
        <div class="flex gap-2">
            <form class="flex gap-2"><input type="text" name="search" value="{{ search }}" class="bg-slate-900 border border-slate-700 px-4 py-1 rounded-xl text-sm" placeholder="NPSN/Nama..."><button class="bg-blue-600 px-4 rounded-xl font-bold text-xs uppercase">Cari</button></form>
            <a href="/" class="bg-slate-800 px-4 py-1 rounded-xl font-bold text-xs flex items-center">HOME</a>
        </div>
    </header>
    <div class="wrap bg-slate-900/50 shadow-2xl">
        <table><thead><tr>
            <th class="st-1">NPSN</th><th class="st-2">Nama Sekolah</th><th>Status</th><th>Bentuk F2</th><th>Akreditasi</th><th>Provinsi</th><th>Kabupaten</th><th>Kecamatan</th><th>Desa</th><th>Alamat</th><th>Kementerian Pembina</th><th>Naungan</th><th>NPYP</th><th>SK Pendirian</th><th>SK Operasional</th><th>Tgl Upload SK</th><th>Luas Tanah</th><th>Internet 1</th><th>Internet 2</th><th>Sumber Listrik</th><th>Telepon</th><th>Fax</th><th>Email</th><th>Website</th><th>Operator</th><th>Latitude</th><th>Longitude</th>
        </tr></thead><tbody>
            {% for r in rows %}
            <tr>
                <td class="st-1 font-bold text-blue-400">{{ r.npsn }}</td><td class="st-2 text-white font-bold uppercase">{{ r.nama }}</td><td>{{ r.status }}</td><td class="text-yellow-500 font-bold">{{ r.bentuk_pendidikan_detail or r.bentuk_pendidikan }}</td><td class="text-emerald-400 font-bold">{{ r.akreditasi or '-' }}</td><td>{{ r.provinsi }}</td><td>{{ r.kabupaten }}</td><td>{{ r.kecamatan }}</td><td>{{ r.desa }}</td><td class="max-w-xs truncate">{{ r.alamat }}</td><td>{{ r.kementerian_pembina }}</td><td>{{ r.naungan }}</td><td>{{ r.npyp }}</td><td>{{ r.sk_pendirian }}</td><td>{{ r.sk_operasional }}</td><td>{{ r.tgl_upload_sk }}</td><td>{{ r.luas_tanah }}</td><td>{{ r.internet_1 }}</td><td>{{ r.internet_2 }}</td><td>{{ r.sumber_listrik }}</td><td>{{ r.telepon }}</td><td>{{ r.fax }}</td><td class="text-blue-300 italic">{{ r.email }}</td><td class="text-blue-500 underline italic">{% if r.website %}<a href="{{ r.website }}" target="_blank">LINK</a>{% endif %}</td><td>{{ r.operator }}</td><td>{{ r.lintang }}</td><td>{{ r.bujur }}</td>
            </tr>
            {% endfor %}
        </tbody></table>
    </div>
</body></html>