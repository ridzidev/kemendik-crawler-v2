<!DOCTYPE html>
<html><head><title>Fase 1 Dashboard</title><script src="https://cdn.tailwindcss.com"></script></head>
<body class="bg-gray-900 text-white p-10 font-sans">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-black text-blue-500 mb-8 italic tracking-tighter uppercase text-center">Crawler V3 Turbo</h1>
        <div class="grid grid-cols-3 gap-6 mb-8 text-center">
            <div class="bg-gray-800 p-8 rounded-3xl border border-gray-700 shadow-xl"><p class="text-xs text-gray-500 font-bold uppercase mb-2">Total Database</p><h2 id="total" class="text-5xl font-black">0</h2></div>
            <div class="bg-gray-800 p-8 rounded-3xl border border-gray-700 shadow-xl"><p class="text-xs text-gray-500 font-bold uppercase mb-2">Live Kode</p><h2 id="kode" class="text-4xl font-black text-blue-400 font-mono">000000</h2></div>
            <div class="bg-gray-800 p-8 rounded-3xl border border-gray-700 shadow-xl"><p class="text-xs text-gray-500 font-bold uppercase mb-2">Status</p><h2 id="status" class="text-xl font-black uppercase mt-3 tracking-widest">-</h2></div>
        </div>
        <div class="bg-gray-800 p-8 rounded-3xl border border-gray-700 mb-8 text-center"><p class="text-xs text-gray-500 font-bold uppercase mb-4 tracking-widest">Progress Loop (39-99-99)</p><h2 id="loop" class="text-4xl font-mono text-yellow-500 font-bold italic">0/39 | 0/99 | 0/99</h2></div>
        <div class="flex gap-4 mb-10"><a href="/start" class="flex-1 bg-emerald-600 hover:bg-emerald-500 py-6 rounded-2xl font-black text-2xl shadow-lg transition text-center">START</a><a href="/pause" class="flex-1 bg-rose-600 hover:bg-rose-500 py-6 rounded-2xl font-black text-2xl shadow-lg transition text-center">PAUSE</a></div>
        <div class="flex gap-4"><a href="/enrichment" class="flex-1 bg-cyan-700 hover:bg-cyan-600 py-4 rounded-xl font-bold text-center transition">ENRICHMENT (F2)</a><a href="/viewer" class="flex-1 bg-indigo-700 hover:bg-indigo-600 py-4 rounded-xl font-bold text-center transition">VIEW SPREADSHEET</a></div>
    </div>
    <script>
        async function update(){
            try {
                const r = await fetch('/api/stats'); const d = await r.json();
                document.getElementById('total').innerText = d.total.toLocaleString();
                document.getElementById('kode').innerText = d.live_kode;
                document.getElementById('status').innerText = d.is_running ? "RUNNING" : "PAUSED";
                document.getElementById('status').className = d.is_running ? "text-xl font-black text-emerald-500 mt-3 tracking-widest" : "text-xl font-black text-rose-500 mt-3 tracking-widest";
                document.getElementById('loop').innerText = `${d.progress.p}/39 | ${d.progress.k}/99 | ${d.progress.kc}/99`;
            } catch(e){}
        }
        setInterval(update, 2000); update();
    </script>
</body></html>